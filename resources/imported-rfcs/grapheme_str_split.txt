====== PHP RFC: Grapheme cluster for str_split function: grapheme_str_split ======
  * Version: 0.1
  * Date: 2024-03-04
  * Author: Yuya Hamada, youkidearitai@gmail.com
  * Status: Draft
  * First Published at: http://wiki.php.net/rfc/grapheme_str_split

===== Introduction =====
I noticed PHP does not have a grapheme cluster based str_split function. So I think need str_split for grapheme cluster, grapheme_str_split function.

This feature will allow to correctly handle emoji and Variation Selectors.



===== Proposal =====
Add grapheme_str_split function.

<code>
function grapheme_str_split(string $string, int $length = 1): array {}
</code>

===== Backward Incompatible Changes =====
This could break a function existing in userland with the same name.


===== Proposed PHP Version(s) =====
next PHP 8.x

===== RFC Impact =====
==== To SAPIs ====

To SAPIs Will add the aforementioned functions to all PHP environments.


==== To Existing Extensions ====

Add grapheme_str_split() to the intl extension.


==== To Opcache ====
No effect.

==== New Constants ====
No new constants.

==== php.ini Defaults ====
No changed php.ini settings.

===== Open Issues =====
No issues

===== Future Scope =====
This section details areas where the feature might be improved in future, but that are not currently proposed in this RFC.

===== Proposed Voting Choices =====
Include these so readers know where you are heading and can discuss the proposed voting options.


===== Implementation =====
https://github.com/php/php-src/pull/13580


===== Rejected Features =====
Keep this updated with features that were discussed on the mail lists.