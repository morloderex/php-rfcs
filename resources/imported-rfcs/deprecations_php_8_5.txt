====== PHP RFC: Deprecations for PHP 8.5 ======
  * Date: 2024-09-26
  * Authors:
    * Gina Peter Banyard <girgias@php.net>
  * Status: Pending Implementation
  * Implementation: TBD

===== Introduction =====

The RFC proposes to deprecate the listed functionality in PHP 8.5 and remove it in PHP 9 (except where otherwise noted).

The following list provides a short overview of the functionality targeted for deprecation, while more detailed explanation is provided in the Proposal section:

  * Deprecate ''key_length'' parameter of <php>openssl_pkey_derive()</php>
  * Deprecate PDO's 'uri:' scheme
  * Deprecate Reflection*::setAccessible()
  * Deprecate FILTER_DEFAULT
  * Make ''$filter'' parameter mandatory for <php>filter_*()</php> functions

===== Proposal =====

Each feature proposed for deprecation is voted separately and requires a 2/3 majority.
All votes refer to deprecation in PHP 8.5 and removal in PHP 9 (except where otherwise noted).

==== Deprecate key_length parameter of openssl_pkey_derive() ====

This parameter is useless and confusing for users. It just truncates lenght for ECDH but does nothing or fail for increasing lenghts and DH truncation. This was raised during the security audit.

See: https://github.com/php/doc-en/pull/3789

==== Deprecate PDO's 'uri:' scheme ====

Author: Tim Düsterhus <timwolla@php.net>

TODO: https://github.com/php/php-src/blob/d7bdf902e5b88189037883d462e422838bd9be55/ext/pdo/pdo_dbh.c#L323-L335

==== Deprecate Reflection*::setAccessible() ====

Author: Tim Düsterhus <timwolla@php.net>

TODO: Follow-up for https://wiki.php.net/rfc/make-reflection-setaccessible-no-op

==== Deprecate FILTER_DEFAULT ====

Author: Gina Peter Banyard <girgias@php.net>

TODO: Follow-up on https://wiki.php.net/rfc/deprecations_php_8_1#filterdefault_ini_setting

==== Make $filter parameter mandatory for filter_*() functions ====

Author: Gina Peter Banyard <girgias@php.net>

TODO: Follow-up on https://wiki.php.net/rfc/deprecations_php_8_1#filterdefault_ini_setting

===== Backward Incompatible Changes =====

For PHP 8.5 additional deprecation notices will be emitted.
The actual removal of the affected functionality will happen no earlier than PHP 9.

===== Removed from this proposal =====

The following entries were originally added to this proposal and then dropped.

