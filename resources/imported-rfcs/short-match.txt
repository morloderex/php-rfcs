====== PHP RFC: Short match ======
  * Version: 1.0
  * Date: 2020-12-13
  * Author: Larry Garfield (larry@garfieldtech.com)
  * Status: Draft
  * First Published at: http://wiki.php.net/rfc/short-match


===== Introduction =====

The ''match()'' expression, introduced in PHP 8.0, matches one value against a series of others.  For more complex cases, it's possible to provide a value of boolean ''true'' as the value to match against, allowing each branch to be arbitrarily complex as long as it results in a boolean.  This RFC allows that case to be used as a default; It makes the value to match against optional, and defaults it to boolean ''true'' if not specified.

This functionality was included in the original [[rfc:match_expression|Match expression v1]] RFC.  It was removed from the second [[rfc:match_expression_v2|Match expression v2]] RFC for simplicity.  However, the poll from the first RFC suggested this was a desired feature, so this RFC brings it back.

===== Proposal =====

This RFC makes only one change.  It makes this syntax legal:

<code php>
$a = 3;

print match {
  $a < 2 => 'small',
  $a == 3 => 'medium',
  default => 'large',
};
</code>

And it means exactly the same as this PHP 8.0 code:

<code php>
$a = 3;

print match (true) {
  $a < 2 => 'small',
  $a == 3 => 'medium',
  default => 'large',
};
</code>

That is, if no match subject is provided, the match subject defaults to boolean ''true''.

===== Backward Incompatible Changes =====

None

===== Proposed PHP Version(s) =====

8.1


===== Proposed Voting Choices =====

This is a simple up-or-down vote, requiring 2/3 to pass.

===== Patches and Tests =====

[[https://github.com/php/php-src/pull/6511|PR available here]]

===== Implementation =====


===== References =====

  * [[rfc:match_expression|PHP RFC: Match expression]]
  * [[rfc:match_expression_v2|PHP RFC: Match expression v2]]