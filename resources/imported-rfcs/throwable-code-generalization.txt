====== PHP RFC: Throwable error code's type generalization ======

  * Version: 0.1
  * Date: 2016-12-18
  * Author: Wes (@WesNetmo on Twitter)
  * Status: Under Discussion
  * First Published at: http://wiki.php.net/rfc/throwable-code-generalization

===== Introduction =====

Currently ''Exception::$code'', ''Error::$code'' and ''Throwable::getCode()'' are only allowed to be ''int'', but this is limiting and in fact it is even violated by PHP itself, specifically by the PDO extension (whose error codes are actually strings).

===== Proposal =====

Allow any type to be used, including objects - even if just formally, because they technically already allow other types to be used, as shown in [[https://3v4l.org/BoF4U|this example]]. Specifically, the following members are proposed to be modified:

  * ''Throwable::getCode(): mixed;''
  * ''Error::%%__%%construct(string $message = "", mixed $code = 0, Throwable $previous = null);''
  * ''Exception::%%__%%construct(string $message = "", mixed $code = 0, Throwable $previous = null);''
  * ''protected mixed Error::$code;''
  * ''protected mixed Exception::$code;''

===== Backward Incompatible Changes =====
None.

===== Proposed PHP Version(s) =====
Next minor version, currently 7.2.

===== Future Scope =====
Will come in handy when PHP will support structures like ''Enum''s, ''EnumSet''s, etc.

===== Proposed Voting Choices =====
Accept "Throwable error code's type generalization"? Requires 50% + 1 majority.

===== Patches and Tests =====
N/A

===== References =====
[[http://externals.io/thread/573|Discussion on externals.io]]