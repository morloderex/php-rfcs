====== PHP RFC: Deprecate functions with overloaded signatures ======
  * Date: 2020-07-06
  * Author: Máté Kocsis <kocsismate@php.net>
  * Target version: PHP 8.3
  * Status: Draft
  * Implementation:

===== Introduction =====

===== Proposal =====

==== DatePeriod::__construct() ====

''DatePeriod::%%__construct()%%'' currently supports three signatures:

<code php>
class DatePeriod
{
    public function __construct(DateTimeInterface $start, DateInterval $interval, int $recurrences, int $options = 0) {}

    public function __construct(DateTimeInterface $start, DateInterval $interval, DateTimeInterface $end, int $options = 0) {}

    public function __construct(string $isostr, int $options = 0) {}
}
</code>

This RFC proposes to add the following three new factory methods as a replacement in PHP 8.3 and deprecate the constructor in the next to next major PHP version (possibly PHP 8.4):

<code php>
class DatePeriod
{
    public static function createFromRecurrences(DateTimeInterface $start, DateInterval $interval, int $recurrences, int $options = 0): static {}

    public static function createFromDates(DateTimeInterface $start, DateInterval $interval, DateTimeInterface $end, int $options = 0): static {}

    public static function createFromIso8601(string $specification, int $options = 0): static {}
}
</code>

<doodle title="Deprecate the above mentioned forms of DatePeriod::__construct()?" auth="kocsismate" voteType="single" closed="true">
   * Yes
   * No
</doodle>

==== ReflectionMethod::__construct() ====

''ReflectionMethod::%%__construct()%%'' currently supports two signatures:

<code php>
class ReflectionMethod
{
    public function __construct(object|string $objectOrMethod, string $method) {}
    
    public function __construct(string $classMethod) {}
}
</code>

This RFC proposes to add the following new factory method in PHP 8.3 and deprecate the first constructor signature in the next to next major PHP version (possibly PHP 8.4):

<code php>
class ReflectionMethod
{
    public static function createFromMethodName(string $method): static {}
}
</code>

<doodle title="Deprecate the above mentioned signature of ReflectionMethod::__construct()?" auth="kocsismate" voteType="single" closed="true">
   * Yes
   * No
</doodle>

===== Backwards incompatible changes =====

Additional deprecation notices will appear. For PHP 9.0 all the previously deprecated functionality will no longer be available.

===== Impact on extensions =====

None.